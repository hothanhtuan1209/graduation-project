<div id="changePasswordModal" class="modal-container">
  <h2>Đổi mật khẩu</h2>
  <form method="post">
    {% csrf_token %}
    <div class="form-group">
      <label for="id_old_password">Mật khẩu cũ:</label><br />
      {{ form.old_password}}<br />
    </div>
    <div class="form-group">
      <label for="id_new_password1">Mật khẩu mới:</label><br />
      {{ form.new_password1}}<br />
    </div>
    <div class="form-group">
      <label for="id_new_password2">Nhập lại mật khẩu mới:</label><br />
      {{ form.new_password2}}<br />
    </div>
    {% if form.errors %}
    <div class="alert alert-danger">
      <ul>
        {% for field, errors in form.errors.items %} {% for error in errors %}
        <li>{{ error }}</li>
        {% endfor %} {% endfor %}
      </ul>
    </div>
    {% endif %}
    <button type="submit" class="btn btn-primary">Lưu</button>
    <a href="{% url 'home' %}" class="btn btn-secondary">Hủy</a>
  </form>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Lấy modal
    var modal = document.getElementById("changePasswordModal");

    // Lấy nút mở modal
    var openModalBtn = document.getElementById("changePasswordBtn");

    // Khi người dùng click vào nút, mở modal
    openModalBtn.onclick = function () {
      modal.style.display = "block";
    };

    // Lấy phần tử đóng modal
    var closeModalBtn = document.getElementById("closeChangePasswordModal");

    // Khi người dùng click vào nút đóng, đóng modal
    closeModalBtn.onclick = function () {
      modal.style.display = "none";
    };

    // Khi người dùng click bên ngoài modal, đóng modal
    window.onclick = function (event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    };
  });
</script>
